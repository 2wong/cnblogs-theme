(self.webpackChunkcnblogs_theme=self.webpackChunkcnblogs_theme||[]).push([["circle-magic"],{"./src/vendor/circleMagic/circleMagic.js":
/*!***********************************************!*\
  !*** ./src/vendor/circleMagic/circleMagic.js ***!
  \***********************************************/function(){eval(";(function ($) {\n    $.fn.circleMagic = function (options) {\n\n        let width, height, canvas, ctx, animateHeader = true;\n        let circles = [];\n\n        let settings = $.extend({\n            color: 'rgba(255,255,255,.5)',\n            radius: 10,\n            density: 0.3,\n            clearOffset: 0.2\n        }, options);\n\n        let container = this['0'];\n        initContainer();\n        addListeners();\n\n        function initContainer() {\n            width = container.offsetWidth;\n            height = container.offsetHeight;\n\n            initCanvas();\n            canvas = document.getElementById('homeTopCanvas');\n            canvas.width = width;\n            canvas.height = height;\n            canvas.style.position = 'absolute';\n            canvas.style.left = '0';\n            canvas.style.bottom = '0';\n            canvas.style.zIndex = '1';\n            ctx = canvas.getContext('2d');\n\n            for (let x = 0; x < width * settings.density; x++) {\n                let c = new Circle();\n                circles.push(c);\n            }\n            animate();\n        }\n\n        function initCanvas() {\n            let canvasElement = document.createElement('canvas');\n            canvasElement.id = 'homeTopCanvas';\n            container.appendChild(canvasElement);\n            canvasElement.parentElement.style.overflow = 'hidden';\n\n        }\n\n        function addListeners() {\n            window.addEventListener('scroll', scrollCheck, false);\n            window.addEventListener('resize', resize, false);\n        }\n\n        function scrollCheck() {\n            document.body.scrollTop > height ?  animateHeader = false :  animateHeader = true;\n        }\n\n        function resize() {\n            width = container.clientWidth;\n            height = container.clientHeight;\n            container.height = height + 'px';\n            canvas.width = width;\n            canvas.height = height;\n        }\n\n        function animate() {\n            if (animateHeader) {\n                ctx.clearRect(0, 0, width, height);\n                for (let i in circles) {\n                    circles[i].draw();\n                }\n            }\n            requestAnimationFrame(animate);\n        }\n\n        function randomColor() {\n            let r = Math.floor(Math.random() * 255);\n            let g = Math.floor(Math.random() * 255);\n            let b = Math.floor(Math.random() * 255);\n            let alpha = Math.random().toPrecision(2);\n            return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alpha + ')';\n        }\n\n        function Circle() {\n            let that = this;\n            (function () {\n                that.pos = {};\n                init();\n            })();\n\n            function init() {\n                that.pos.x = Math.random() * width;\n                that.pos.y = height + Math.random() * 100;\n                that.alpha = 0.1 + Math.random() * settings.clearOffset;\n                that.scale = 0.1 + Math.random() * 0.3;\n                that.speed = Math.random();\n                settings.color === 'random' ?  that.color = randomColor() :   that.color = settings.color;\n            }\n\n            this.draw = function () {\n                if (that.alpha <= 0)  init();\n                that.pos.y -= that.speed;\n                that.alpha -= 0.0005;\n                ctx.beginPath();\n                ctx.arc(that.pos.x, that.pos.y, that.scale * settings.radius, 0, 2 * Math.PI, false);\n                ctx.fillStyle = that.color;\n                ctx.fill();\n                ctx.closePath();\n            };\n        }\n    }\n})(jQuery);\n\n\n//# sourceURL=webpack://cnblogs-theme/./src/vendor/circleMagic/circleMagic.js?")}}]);