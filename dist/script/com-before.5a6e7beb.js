(self.webpackChunkcnblogs_theme=self.webpackChunkcnblogs_theme||[]).push([[6910],{5490:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return c}});var i=s(1223),a=s.n(i),n=s(5791),o=s.n(n);function r(){let t,e=document.body,s=document.querySelector(".content-wrap"),i=document.getElementById("open-button"),n=document.getElementById("close-button"),r=!1,l=function(){function t(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}let e,s,i;function a(t,a){(e(t,a)?i:s)(t,a)}return"classList"in document.documentElement?(e=function(t,e){return t.classList.contains(e)},s=function(t,e){t.classList.add(e)},i=function(t,e){t.classList.remove(e)}):(e=function(e,s){return t(s).test(e.className)},s=function(t,s){e(t,s)||(t.className=t.className+" "+s)},i=function(e,s){e.className=e.className.replace(t(s)," ")}),{hasClass:e,addClass:s,removeClass:i,toggleClass:a,has:e,add:s,remove:i,toggle:a}}(),d=document.getElementById("morph-shape"),c=a()(d.querySelector("svg")).select("path"),h=c.attr("d"),_=!1;function m(){$(".menu-wrap").show(),r?($(e).removeClass("show-menu"),$("#content-wrap").fadeOut(300),$(e).css("overflow","auto"),$("#mainContent").off("touchmove"),c.attr("d",h),_=!1):(l.add(e,"show-menu"),$("#content-wrap").show(),$("body").css("overflow","hidden"),t.scrollTo(!1,"top")),r=!r}return i.addEventListener("click",m),n&&n.addEventListener("click",m),s.addEventListener("click",(function(t){let e=t.target;r&&e!==i&&m()})),t=new(o())(document.querySelector("#menuWrap"),{preventParentScroll:!0,forceScrollbars:!0}),{myOptiscrollInstance:t}}function l(t){let e;$("#sidebar_news").prepend('<div class="container"> <div class="menu-wrap optiscroll" id="menuWrap" style="display:none"> <div class="close-button" id="close-button"> <i class="iconfont icon-close"></i> </div> <div class="sidebar-header"> <i class="iconfont icon-guangbo"></i> &nbsp;&nbsp; <span class="sidebar-title-msg"></span> </div> <div class="sidebar-profile"> <div class="user-pic" id="menuBlogAvatar"></div> <div class="sidebar-userinfo" id="introduce"></div> </div> <div class="sidebar-stats"></div> <div class="sidebar-search"> <div class="sidebar-search-div"> <div class="input-group"> <span id="sb-sidebarSearchBox"></span> <div class="input-group-append"> <span class="input-group-text"> <i class="iconfont icon-sousuo"></i> </span> </div> </div> </div> </div> <div class="customize-nav"></div> <div id="calendar-box"></div> <div class="sidebar-menu" id="customize-sidebar-menu"> <ul></ul> </div> <div class="sidebar-menu"> <ul> <li class="ng-star-inserted sidebar-dropdown"> <a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box"> <i class="iconfont icon-collection-fill"></i> <span class="sidebar-dropdown-title">积分排名</span> </a> <div class="sidebar-submenu" id="sb-sidebarScorerank"></div> </li> <li class="ng-star-inserted sidebar-dropdown"> <a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box"> <i class="iconfont icon-time-fill"></i> <span class="sidebar-dropdown-title">最新随笔</span> </a> <div class="sidebar-submenu" id="sb-sidebarRecentposts"></div> </li> <li class="ng-star-inserted sidebar-dropdown"> <a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box"> <i class="iconfont icon-label-fill"></i> <span class="sidebar-dropdown-title">我的标签</span> </a> <div class="sidebar-submenu" id="sb-toptags"></div> </li> <li class="ng-star-inserted sidebar-dropdown"> <a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box"> <i class="iconfont icon-fenleicur"></i> <span class="sidebar-dropdown-title">随笔分类</span> </a> <div class="sidebar-submenu" id="sb-classify"></div> </li> <li class="ng-star-inserted sidebar-dropdown"> <a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box"> <i class="iconfont icon-fenlei"></i> <span class="sidebar-dropdown-title">文章分类</span> </a> <div class="sidebar-submenu" id="sb-ArticleCategory"></div> </li> <li class="ng-star-inserted sidebar-dropdown"> <a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box"> <i class="iconfont icon-browse-fill"></i> <span class="sidebar-dropdown-title">阅读排行</span> </a> <div class="sidebar-submenu" id="sb-topview"></div> </li> <li class="ng-star-inserted sidebar-dropdown"> <a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box"> <i class="iconfont icon-like-fill"></i> <span class="sidebar-dropdown-title">推荐排行</span> </a> <div class="sidebar-submenu" id="sb-topDiggPosts"></div> </li> <li class="ng-star-inserted sidebar-dropdown"> <a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box"> <i class="iconfont icon-comments"></i> <span class="sidebar-dropdown-title">最新评论</span> </a> <div class="sidebar-submenu" id="sb-recentComments"></div> </li> <li class="ng-star-inserted sidebar-dropdown"> <a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box"> <i class="iconfont icon-task-fill"></i> <span class="sidebar-dropdown-title">随笔档案</span> </a> <div class="sidebar-submenu" id="sb-record"></div> </li> <li class="ng-star-inserted sidebar-dropdown"> <a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box"> <i class="iconfont icon-document-fill"></i> <span class="sidebar-dropdown-title">文章档案</span> </a> <div class="sidebar-submenu" id="sb-articlearchive"></div> </li> </ul> </div> <div class="sidebar-footer"></div> <div class="morph-shape" id="morph-shape" style="display:none" data-morph-open="M-7.312,0H15c0,0,66,113.339,66,399.5C81,664.006,15,800,15,800H-7.312V0z;M-7.312,0H100c0,0,0,113.839,0,400c0,264.506,0,400,0,400H-7.312V0z"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 800" preserveAspectRatio="none"> <path d="M-7.312,0H0c0,0,0,113.839,0,400c0,264.506,0,400,0,400h-7.312V0z"/> </svg> </div> </div> <button class="menu-button" id="open-button">MENU</button> <div class="content-wrap" id="content-wrap"></div> </div> '),e=r(),(()=>{let e=t.__tools.tempReplacement('<div class="dropdown"> <a href="https://www.cnblogs.com/##user##" target="_self"> <i class="iconfont icon-home-fill"></i>首页 </a> </div> <div class="dropdown"> <a href="https://msg.cnblogs.com/send/##user##" target="_blank"> <i class="iconfont icon-zhifeiji"></i>联系 </a> </div> <div class="dropdown"> <a href="javascript:void(0)" onclick=\'$("#blog_nav_rss").trigger("click")\' data-rss="https://www.cnblogs.com/##user##/rss/"> <i class="iconfont icon-keaide"></i>订阅 </a> </div> <div class="dropdown"> <a href="https://i.cnblogs.com/" target="_blank"> <i class="iconfont icon-shezhi-fill"></i>管理 </a> </div> ',"user",t.__status.user);$(".sidebar-footer").html(e);let s=t.__config.info.avatar?t.__config.info.avatar:t.__config.default.avatar;$("#menuBlogAvatar").append("<img class='img-responsive' alt='用户头像' src='"+s+"'>"),$(".sidebar-title-msg").text(t.__config.sidebar.titleMsg)})(),(()=>{let e=t.__config.sidebar.infoBackground?t.__config.sidebar.infoBackground:"https://images.cnblogs.com/cnblogs_com/wangyang0210/1943283/o_221114135508_sidebar_bg_2.webp";$(".container .menu-wrap").css("background-image","url('"+e+"')")})(),(()=>{let e=1e3;function s(e,s,i){e.length>0&&""===s.html()&&(s.html(function(t){let e="<ul>",s=/^[1-9]+\d*$/;return t.each((i=>{let a=$(t[i]),n=a.text()===a.html()?{}:$(a.html()),o=a.text().trim().split(".");s.test(o[0])&&o.splice(0,1);let r=o.join(".").trim();n.length>0&&n.html(r),r.length>0&&(e+="<li>"+(n.length>0?n.prop("outerHTML"):'<a href="javascript:void(0);">'+r+"</a>")+"</li>")})),e+="</ul>",e}(e)),s.parent(".sidebar-dropdown").show(),t.__tools.clearIntervalTimeId(i))}t.__timeIds.introduceTId=window.setInterval((()=>{let e=$("#profile_block").html(),s=$("#introduce");"string"==typeof e&&""===s.html()&&(s.html(t.__tools.htmlFiltrationScript(e)),t.__tools.clearIntervalTimeId(t.__timeIds.introduceTId))}),e),t.__config.sidebar.blogStatus&&(t.__timeIds.blogStatsTId=window.setInterval((()=>{let e=$(".blogStats"),s=$(".sidebar-stats");e.length>0&&(s.html(t.__tools.htmlFiltrationScript(e.html())).show(),e.html(""),t.__tools.clearIntervalTimeId(t.__timeIds.blogStatsTId))}),e)),t.__timeIds.calendarTId=window.setInterval((()=>{let e=$("#blogCalendar"),s=$("#blog-calendar"),i=$("#calendar-box");if(e.length>0&&""===i.html()){let e='<div id="blog-calendar">'+s.html()+"</div>";s.remove(),i.html(e).show(),$("#blog-calendar").css("visibility","visible"),t.__tools.clearIntervalTimeId(t.__timeIds.calendarTId)}}),e),t.__timeIds.searchTId=window.setInterval((()=>{let e=$("#sidebar_search_box"),s=$("#sb-sidebarSearchBox");e.length>0&&""===s.html()&&(s.prepend('<div id="sb_widget_my_zzk" class="div_my_zzk"><input id="q" type="text"  autocomplete="off" placeholder="找找看..." onkeydown="return zzk_go_enter(event);" class="input_my_zzk form-control search-menu"></div>'),$(".sidebar-search").show(),t.__tools.clearIntervalTimeId(t.__timeIds.searchTId))}),e),t.__timeIds.scorerankTId=window.setInterval((()=>{s($("#sidebar_scorerank ul li"),$("#sb-sidebarScorerank"),t.__timeIds.scorerankTId)}),e),t.__timeIds.newEssayTId=window.setInterval((()=>{s($("#sidebar_recentposts ul li"),$("#sb-sidebarRecentposts"),t.__timeIds.newEssayTId)}),e),t.__timeIds.topTagsTId=window.setInterval((()=>{s($("#sidebar_toptags ul li"),$("#sb-toptags"),t.__timeIds.topTagsTId)}),e),t.__timeIds.classifyTId=window.setInterval((()=>{s($("#sidebar_postcategory ul li"),$("#sb-classify"),t.__timeIds.classifyTId)}),e),t.__timeIds.articleCategoryTId=window.setInterval((()=>{s($("#sidebar_articlecategory ul li"),$("#sb-ArticleCategory"),t.__timeIds.articleCategoryTId)}),e),t.__timeIds.recordTId=window.setInterval((()=>{s($("#sidebar_postarchive ul li"),$("#sb-record"),t.__timeIds.recordTId)}),e),t.__timeIds.articleTId=window.setInterval((()=>{s($("#sidebar_articlearchive ul li"),$("#sb-articlearchive"),t.__timeIds.articleTId)}),e),t.__timeIds.topViewTId=window.setInterval((()=>{s($("#TopViewPostsBlock ul li"),$("#sb-topview"),t.__timeIds.topViewTId)}),e),t.__timeIds.topDiggPostsTId=window.setInterval((()=>{s($("#TopDiggPostsBlock ul li"),$("#sb-topDiggPosts"),t.__timeIds.topDiggPostsTId)}),e),t.__timeIds.commentsTId=window.setInterval((()=>{let e=$("#sidebar_recentcomments ul"),s=$("#sb-recentComments");e.length>0&&""===s.html()&&(s.html((t=>{let e,s,i,a="<ul>",n=/^[1-9]+\d*$/;if(t.find("li").length>2){if(e=t.find("li.recent_comment_title"),s=t.find("li.recent_comment_body"),i=t.find("li.recent_comment_author"),e.length!==s.length||e.length!==i.length)return;e.each((t=>{let o=$(e[t]),r=o.text()===o.html()?{}:$(o.html()),l=o.text().trim().split(".");n.test(l[0])&&l.splice(0,1);let d=l.join(".").trim();r.length>0&&r.html(d),a+="<li>"+(r.length>0?r.prop("outerHTML"):"<a href='javascript:void(0);'>"+d+"</a>")+'<div class="sb-recent_comment_body">'+$(s[t]).text()+'</div><div class="sb-recent_comment_author">'+$(i[t]).text()+"</div></li>"}))}return a+="</ul>",a})(e)),s.parent(".sidebar-dropdown").show(),t.__tools.clearIntervalTimeId(t.__timeIds.commentsTId))}),e),(()=>{let e=t.__config.sidebar.navList,s="";e.length>0&&(s="<ul>",$.each(e,(function(t){let i=e[t].length>2?e[t][2]:"icon-qianzishenhe";s+='<li><a href="'+e[t][1]+'" class="sidebar-dropdown-box" target="_blank"><i class="iconfont '+i+'"></i>'+e[t][0]+"</a></li>"})),s+="</ul>",$(".customize-nav").append(s).show())})(),(()=>{let e=t.__config.sidebar.customList;if(Object.keys(e).length>0){let t="";$.each(e,((e,s)=>{let i='<li class="ng-star-inserted sidebar-dropdown">';i+='<a href="javascript:void(0)" class="ng-star-inserted sidebar-dropdown-box">',i+='   <i class="iconfont '+s.icon+'"></i>',i+='   <span class="sidebar-dropdown-title">'+e+"</span>",i+="</a>",i+='<div class="sidebar-submenu"><ul>',$.each(s.data,((t,e)=>{i+='<li><a href="'+e[1]+'" target="_blank">'+e[0]+"</a></li>"})),i+="</ul></div>",i+="</li>",t+=i})),$("#customize-sidebar-menu ul").append(t),$("#customize-sidebar-menu").show(),$("#customize-sidebar-menu .sidebar-dropdown").show()}})()})(),t.__config.animate.avatar.enable&&($("#menuBlogAvatar").addClass("img-rounded"),$(".author_avatar").addClass("img-rounded")),t.__config.sidebar.submenu.pointsRank&&($("#sb-sidebarScorerank").parent("li.sidebar-dropdown").addClass("active"),$("#sb-sidebarScorerank").show()),t.__config.sidebar.submenu.latestPosts&&($("#sb-sidebarRecentposts").parent("li.sidebar-dropdown").addClass("active"),$("#sb-sidebarRecentposts").show()),t.__config.sidebar.submenu.myTags&&($("#sb-toptags").parent("li.sidebar-dropdown").addClass("active"),$("#sb-toptags").show()),t.__config.sidebar.submenu.postsClassify&&($("#sb-classify").parent("li.sidebar-dropdown").addClass("active"),$("#sb-classify").show()),t.__config.sidebar.submenu.articleClassify&&($("#sb-ArticleCategory").parent("li.sidebar-dropdown").addClass("active"),$("#sb-ArticleCategory").show()),t.__config.sidebar.submenu.readRank&&($("#sb-topview").parent("li.sidebar-dropdown").addClass("active"),$("#sb-topview").show()),t.__config.sidebar.submenu.recommendRank&&($("#sb-topDiggPosts").parent("li.sidebar-dropdown").addClass("active"),$("#sb-topDiggPosts").show()),t.__config.sidebar.submenu.postsArchive&&($("#sb-record").parent("li.sidebar-dropdown").addClass("active"),$("#sb-record").show()),t.__config.sidebar.submenu.articleArchive&&($("#sb-articlearchive").parent("li.sidebar-dropdown").addClass("active"),$("#sb-articlearchive").show()),t.__config.sidebar.submenu.latestComment&&($("#sb-recentComments").parent("li.sidebar-dropdown").addClass("active"),$("#sb-recentComments").show()),t.__config.sidebar.submenu.customList&&($("#customize-sidebar-menu .sidebar-submenu").parent("li.sidebar-dropdown").addClass("active"),$("#customize-sidebar-menu .sidebar-submenu").show()),$(".sidebar-menu a.sidebar-dropdown-box").on("click",(function(){let t=$(this).parent("li.sidebar-dropdown"),s=t.find(".sidebar-submenu");s.length>0&&(t.hasClass("active")?(t.removeClass("active"),s.slideUp(300)):(t.addClass("active"),s.slideDown(300)),setTimeout((function(){e&&void 0!==e.myOptiscrollInstance&&e.myOptiscrollInstance.update()}),300))})),t.__event.resize.handle.push((()=>{setTimeout((function(){$("body").hasClass("show-menu")&&e&&void 0!==e.myOptiscrollInstance&&e.myOptiscrollInstance.update()}),300)}))}var d=s(434);s(9258);function c(t){s.e(9370).then(s.bind(s,707)),s.e(5014).then(s.bind(s,1166)),s.e(7732).then(s.bind(s,8860)),("12-13"==t.__tools.getTodayDate()||t.__config.memorialDays.includes(t.__tools.getTodayDate()))&&$("html").addClass("htmlGray"),setTimeout((()=>{$.each(t.__timeIds,(e=>{null!=t.__timeIds[e]&&window.clearInterval(t.__timeIds[e])}))}),3e4),(0,d.Z)(t).init(),l(t),function(t){$("#sidebar_news").prepend('<div class="main-header" id="main-header"> <div id="nhBannerAnimation"> <ul class="circles"> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> <li></li> </ul> </div> <div class="vertical"> <div class="main-header-content inner"> <h1 class="page-title" id="homeTopTitle"><span></span></h1> <h2 class="page-description" id="hitokoto"></h2> <h3 class="page-author" id="hitokotoAuthor"></h3> <h1 class="sb-title" id="sbTitle"> <span id="sbTitleText"></span> <span id="sbTitleConsole"></span> </h1> <p class="article-info" id="articleInfo"></p> </div> </div> <a class="scroll-down" href="javascript:void(0);" data-offset="-45"> <span class="hidden">Scroll Down</span> <i class="scroll-down-icon iconfont icon-fanhui"></i> </a> </div>'),(()=>{let e,i,a,n=$("#main-header");"home"===t.__status.pageType?e=t.__config.banner.home.background.length>0?t.__config.banner.home.background:["https://images.cnblogs.com/cnblogs_com/wangyang0210/1943283/o_220917053600_wallhaven-6k3oox.webp"]:(e=t.__config.banner.article.background.length>0?t.__config.banner.article.background:["https://images.cnblogs.com/cnblogs_com/wangyang0210/1943283/o_220917053937_wallhaven-j5mz95.webp"],a="40vh",$("#homeTopTitle").hide(),$(".scroll-down").hide(),$("#home").css("margin-top","40vh"),$("#cb_post_title_url").addClass("post-del-title")),a&&n.css("height",a),t.__config.animate.bannerImages.enable?Promise.all([s.e(3707),s.e(2315)]).then(s.bind(s,9830)).then((s=>{(0,s.default)("main-header",e,t.__config.animate.bannerImages.options.itemNum,t.__config.animate.bannerImages.options.time,t.__config.animate.bannerImages.options.sort,t.__config.animate.bannerImages.options.current<0?t.__tools.randomNum(0,e.length-1):t.__config.animate.bannerImages.options.current)})):(i=e.length>1?e[t.__tools.randomNum(0,e.length-1)]:e[0]||"",n.css({background:"#222 url('"+encodeURI(i)+"')  center center no-repeat","background-size":"cover"})),t.__config.banner.text||$(".main-header-content.inner").addClass("textUnselect")})(),t.__event.scroll.handle.push((()=>{let e=$("#open-button");t.__event.scroll.temScroll<t.__event.scroll.docScroll&&t.__event.scroll.homeScroll<=t.__event.scroll.docScroll&&!e.hasClass("menu-button-scroll")&&(e.addClass("menu-button-scroll"),e.text("")),t.__event.scroll.temScroll>t.__event.scroll.docScroll&&t.__event.scroll.homeScroll>=t.__event.scroll.docScroll&&e.hasClass("menu-button-scroll")&&(e.removeClass("menu-button-scroll"),e.text("MENU"))}))}(t),""!==t.__config.fontIconExtend&&t.__tools.dynamicLoadingCss(t.__config.fontIconExtend,1)}},9258:function(){(function(k){for(var d,f,l=document.getElementsByTagName("head")[0].style,h=["transformProperty","WebkitTransform","OTransform","msTransform","MozTransform"],g=0;g<h.length;g++)void 0!==l[h[g]]&&(d=h[g]);var a;d&&(f=d.replace(/[tT]ransform/,"TransformOrigin"),"T"==f[0]&&(f[0]="t")),eval('IE = "v"=="\v"'),jQuery.fn.extend({rotate:function(t){if(0!==this.length&&void 0!==t){"number"==typeof t&&(t={angle:t});for(var e=[],s=0,i=this.length;s<i;s++){if((n=this.get(s)).Wilq32&&n.Wilq32.PhotoEffect)n.Wilq32.PhotoEffect._handleRotation(t);else{var a=k.extend(!0,{},t),n=new Wilq32.PhotoEffect(n,a)._rootObj;e.push(k(n))}}return e}},getRotateAngle:function(){for(var t=[],e=0,s=this.length;e<s;e++){var i=this.get(e);i.Wilq32&&i.Wilq32.PhotoEffect&&(t[e]=i.Wilq32.PhotoEffect._angle)}return t},stopRotate:function(){for(var t=0,e=this.length;t<e;t++){var s=this.get(t);s.Wilq32&&s.Wilq32.PhotoEffect&&clearTimeout(s.Wilq32.PhotoEffect._timer)}}}),Wilq32=window.Wilq32||{},Wilq32.PhotoEffect=d?function(t,e){t.Wilq32={PhotoEffect:this},this._img=this._rootObj=this._eventObj=t,this._handleRotation(e)}:function(t,e){if(this._img=t,this._onLoadDelegate=[e],this._rootObj=document.createElement("span"),this._rootObj.style.display="inline-block",this._rootObj.Wilq32={PhotoEffect:this},t.parentNode.insertBefore(this._rootObj,t),t.complete)this._Loader();else{var s=this;jQuery(this._img).bind("load",(function(){s._Loader()}))}},Wilq32.PhotoEffect.prototype={_setupParameters:function(t){this._parameters=this._parameters||{},"number"!=typeof this._angle&&(this._angle=0),"number"==typeof t.angle&&(this._angle=t.angle),this._parameters.animateTo="number"==typeof t.animateTo?t.animateTo:this._angle,this._parameters.step=t.step||this._parameters.step||null,this._parameters.easing=t.easing||this._parameters.easing||this._defaultEasing,this._parameters.duration=t.duration||this._parameters.duration||1e3,this._parameters.callback=t.callback||this._parameters.callback||this._emptyFunction,this._parameters.center=t.center||this._parameters.center||["50%","50%"],this._rotationCenterX="string"==typeof this._parameters.center[0]?parseInt(this._parameters.center[0],10)/100*this._imgWidth*this._aspectW:this._parameters.center[0],this._rotationCenterY="string"==typeof this._parameters.center[1]?parseInt(this._parameters.center[1],10)/100*this._imgHeight*this._aspectH:this._parameters.center[1],t.bind&&t.bind!=this._parameters.bind&&this._BindEvents(t.bind)},_emptyFunction:function(){},_defaultEasing:function(t,e,s,i,a){return-i*((e=e/a-1)*e*e*e-1)+s},_handleRotation:function(t,e){d||this._img.complete||e?(this._setupParameters(t),this._angle==this._parameters.animateTo?this._rotate(this._angle):this._animateStart()):this._onLoadDelegate.push(t)},_BindEvents:function(t){if(t&&this._eventObj){if(this._parameters.bind){var e,s=this._parameters.bind;for(e in s)s.hasOwnProperty(e)&&jQuery(this._eventObj).unbind(e,s[e])}for(e in this._parameters.bind=t,t)t.hasOwnProperty(e)&&jQuery(this._eventObj).bind(e,t[e])}},_Loader:IE?function(){var t=this._img.width,e=this._img.height;for(this._imgWidth=t,this._imgHeight=e,this._img.parentNode.removeChild(this._img),this._vimage=this.createVMLNode("image"),this._vimage.src=this._img.src,this._vimage.style.height=e+"px",this._vimage.style.width=t+"px",this._vimage.style.position="absolute",this._vimage.style.top="0px",this._vimage.style.left="0px",this._aspectW=this._aspectH=1,this._container=this.createVMLNode("group"),this._container.style.width=t,this._container.style.height=e,this._container.style.position="absolute",this._container.style.top="0px",this._container.style.left="0px",this._container.setAttribute("coordsize",t-1+","+(e-1)),this._container.appendChild(this._vimage),this._rootObj.appendChild(this._container),this._rootObj.style.position="relative",this._rootObj.style.width=t+"px",this._rootObj.style.height=e+"px",this._rootObj.setAttribute("id",this._img.getAttribute("id")),this._rootObj.className=this._img.className,this._eventObj=this._rootObj;t=this._onLoadDelegate.shift();)this._handleRotation(t,!0)}:function(){this._rootObj.setAttribute("id",this._img.getAttribute("id")),this._rootObj.className=this._img.className,this._imgWidth=this._img.naturalWidth,this._imgHeight=this._img.naturalHeight;var t=Math.sqrt(this._imgHeight*this._imgHeight+this._imgWidth*this._imgWidth);for(this._width=3*t,this._height=3*t,this._aspectW=this._img.offsetWidth/this._img.naturalWidth,this._aspectH=this._img.offsetHeight/this._img.naturalHeight,this._img.parentNode.removeChild(this._img),this._canvas=document.createElement("canvas"),this._canvas.setAttribute("width",this._width),this._canvas.style.position="relative",this._canvas.style.left=-this._img.height*this._aspectW+"px",this._canvas.style.top=-this._img.width*this._aspectH+"px",this._canvas.Wilq32=this._rootObj.Wilq32,this._rootObj.appendChild(this._canvas),this._rootObj.style.width=this._img.width*this._aspectW+"px",this._rootObj.style.height=this._img.height*this._aspectH+"px",this._eventObj=this._canvas,this._cnv=this._canvas.getContext("2d");t=this._onLoadDelegate.shift();)this._handleRotation(t,!0)},_animateStart:function(){this._timer&&clearTimeout(this._timer),this._animateStartTime=+new Date,this._animateStartAngle=this._angle,this._animate()},_animate:function(){var t=+new Date,e=t-this._animateStartTime>this._parameters.duration;if(e&&!this._parameters.animatedGif)clearTimeout(this._timer);else{(this._canvas||this._vimage||this._img)&&(t=this._parameters.easing(0,t-this._animateStartTime,this._animateStartAngle,this._parameters.animateTo-this._animateStartAngle,this._parameters.duration),this._rotate(~~(10*t)/10)),this._parameters.step&&this._parameters.step(this._angle);var s=this;this._timer=setTimeout((function(){s._animate.call(s)}),10)}this._parameters.callback&&e&&(this._angle=this._parameters.animateTo,this._rotate(this._angle),this._parameters.callback.call(this._rootObj))},_rotate:(a=Math.PI/180,IE?function(t){this._angle=t,this._container.style.rotation=t%360+"deg",this._vimage.style.top=-(this._rotationCenterY-this._imgHeight/2)+"px",this._vimage.style.left=-(this._rotationCenterX-this._imgWidth/2)+"px",this._container.style.top=this._rotationCenterY-this._imgHeight/2+"px",this._container.style.left=this._rotationCenterX-this._imgWidth/2+"px"}:d?function(t){this._angle=t,this._img.style[d]="rotate("+t%360+"deg)",this._img.style[f]=this._parameters.center.join(" ")}:function(t){this._angle=t,t=t%360*a,this._canvas.width=this._width,this._canvas.height=this._height,this._cnv.translate(this._imgWidth*this._aspectW,this._imgHeight*this._aspectH),this._cnv.translate(this._rotationCenterX,this._rotationCenterY),this._cnv.rotate(t),this._cnv.translate(-this._rotationCenterX,-this._rotationCenterY),this._cnv.scale(this._aspectW,this._aspectH),this._cnv.drawImage(this._img,0,0)})},IE&&(Wilq32.PhotoEffect.prototype.createVMLNode=function(){document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{return!document.namespaces.rvml&&document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<rvml:"+t+' class="rvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}}())})(jQuery)}}]);