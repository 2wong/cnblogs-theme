"use strict";(self.webpackChunkcnblogs_theme=self.webpackChunkcnblogs_theme||[]).push([["page-home"],{"./src/components/postMeta/postMeta.js":
/*!*********************************************!*\
  !*** ./src/components/postMeta/postMeta.js ***!
  \*********************************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ main; }\n/* harmony export */ });\n/**\n * UPDATES AND DOCS AT: https://github.com/wangyang0210\n * https://www.cnblogs.com/wangyang0210/\n * @author: WangYang, wangyang.0210@foxmail.com\n * @Date 2022-08-25 15:23\n * ----------------------------------------------\n * @describe: 文章信息\n */\n\nfunction main(postDescText) {\n    let getPostMetaInfo = (postDescInfo) => {\n       let postDescRep = postDescInfo.replace(/[\\r\\n]/g, '');\n\n        let postMetaRex  = /.*posted\\s*@\\s*([0-9\\-:\\s]{16}).*阅读\\s*\\((\\d*)\\).*评论\\s*\\((\\d*)\\).*推荐\\s*\\((\\d*)\\).*/,\n            postMetaRex2 = /.*posted\\s*@\\s*([0-9\\-:\\s]{16}).*阅读\\s*\\((\\d*)\\).*评论\\s*\\((\\d*)\\).*/,\n            postMetaRex3 = /.*posted\\s*@\\s*([0-9\\-:\\s]{16}).*/,\n            diggCount = $('#digg_count'),\n            info = postDescRep.match(postMetaRex)\n                || postDescRep.match(postMetaRex2)\n                || postDescRep.match(postMetaRex3),\n            date = typeof info[1] === 'undefined' ? '1970-01-01 00:00' : info[1],\n            vnum = typeof info[2] === 'undefined' ? '0' : info[2],\n            cnum = typeof info[3] === 'undefined' ? '0' : info[3],\n            tnum = typeof info[4] === 'undefined' ? (diggCount.length ? diggCount.text() : '0') : info[4];\n\n        return {\n            date: date,\n            vnum: vnum,\n            cnum: cnum,\n            tnum: tnum,\n        };\n    };\n\n    return getPostMetaInfo(postDescText);\n}\n\n\n//# sourceURL=webpack://cnblogs-theme/./src/components/postMeta/postMeta.js?")},"./src/page/home.js":
/*!**************************!*\
  !*** ./src/page/home.js ***!
  \**************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ main; }\n/* harmony export */ });\n/* harmony import */ var _components_postMeta_postMeta__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/postMeta/postMeta */ \"./src/components/postMeta/postMeta.js\");\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/request */ \"./src/utils/request.js\");\n/**\r\n * UPDATES AND DOCS AT: https://github.com/wangyang0210\r\n * https://www.cnblogs.com/wangyang0210/\r\n * @author: WangYang, wangyang.0210@foxmail.com\r\n * @Date 2022-08-25 15:27\r\n * ----------------------------------------------\r\n * @describe: 主页处理\r\n */\r\n\r\n\r\n\r\nfunction main(_) {\r\n\r\n    /**\r\n     * 设置主页标语\r\n     */\r\n    (() => {\r\n\r\n        $('#homeTopTitle span').text(_.__config.info.name);\r\n\r\n        /**\r\n         * 博客名字动效\r\n         */\r\n        if (_.__config.animate.infoName.enable) {\r\n            $('#homeTopTitle span').hover(function () {\r\n                    $('#homeTopTitle span').css(\"animation\", \"pageTitleText 2s infinite\")\r\n                    $('#homeTopTitle span').css(\"-webkit-animation\", \"pageTitleText 1s infinite\")\r\n                }, function () {\r\n                    $('#homeTopTitle span').css(\"animation\", \"none\")\r\n                    $('#homeTopTitle span').css(\"-webkit-animation\", \"none\")\r\n                }\r\n            );\r\n        }\r\n\r\n            // 判断用户是否自定义了设置\r\n        let configTitle = _.__config.banner.home.title,\r\n            hitokoto = $('#hitokoto');\r\n\r\n        if ($.isArray(configTitle) && configTitle.length > 0) {\r\n            let listIndex = _.__tools.randomNum(0, configTitle.length - 1);\r\n            hitokoto.html(configTitle[listIndex]).css('display', '-webkit-box');\r\n            _.__tools.setDomHomePosition();\r\n            return true;\r\n        }\r\n\r\n        if (typeof configTitle === \"string\" && configTitle !== \"\") {\r\n            hitokoto.html(configTitle).css('display', '-webkit-box');\r\n            _.__tools.setDomHomePosition();\r\n            return true;\r\n        }\r\n\r\n        let topTitleList = [ '当你凝视深渊时，深渊也在凝视着你。', '有的人25岁就死了，只是到75岁才埋葬'];\r\n\r\n        function topTitleContent(r) {\r\n            if (r?.status === \"success\") {\r\n                let note = r?.note || r.data.content;\r\n                let content = r?.content || `《${r.data.origin.title}》 - ${r.data.origin.dynasty} - ${r.data.origin.author}`;\r\n                hitokoto.html(note).css('display', '-webkit-box');\r\n                $('#hitokotoAuthor').text(content).show();\r\n            } else {\r\n                let listIndex = _.__tools.randomNum(0, topTitleList.length - 1);\r\n                hitokoto.html(topTitleList[listIndex]).css('display', '-webkit-box');\r\n            }\r\n            _.__tools.setDomHomePosition();\r\n        }\r\n\r\n        if (_.__config.banner.home.titleSource === 'one') (0,_utils_request__WEBPACK_IMPORTED_MODULE_1__.request)('https://api.wangyangyang.vip/').then(r =>  topTitleContent(r))\r\n        if (_.__config.banner.home.titleSource === 'jinrishici')  (0,_utils_request__WEBPACK_IMPORTED_MODULE_1__.request)('https://v2.jinrishici.com/one.json').then(r =>  topTitleContent(r))\r\n    })();\r\n\r\n    /**\r\n     * 头图点击滚动到内容位置\r\n     */\r\n    (() => {\r\n        $('.scroll-down').click(function () {\r\n            let endScroll;\r\n            endScroll = $('#home').offset().top + 10; _.__tools.actScroll(endScroll, 500);})\r\n    })();\r\n\r\n    /**\r\n     * 设置主页文章信息样式\r\n     */\r\n    (() => {\r\n        let read = $('#main .c_b_p_desc_readmore'), titleList = $('#main .postTitle');\r\n        read.text('阅读全文 »');\r\n        $.each(titleList, (i) => {\r\n            let title = $(titleList[i]),\r\n                titleText = title.text(),\r\n                postDescText = title.nextAll('.postDesc:eq(0)').text();\r\n            title.after(postMetaHtml(postDescText));\r\n            if (/\\[置顶\\]/.test(titleText)) title.append('<span class=\"postSticky\">置顶</span>');\r\n            title.find('a').text(titleText.replace('[置顶]', ''));\r\n        });\r\n\r\n        titleList = $('#main .entrylistPosttitle');\r\n        $.each(titleList, (i) => {\r\n            let title = $(titleList[i]),\r\n                postDescText = title.nextAll('.entrylistItemPostDesc:eq(0)').text();\r\n            title.after(postMetaHtml(postDescText));\r\n        });\r\n\r\n        function postMetaHtml(postDescText) {\r\n            let info = (0,_components_postMeta_postMeta__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(postDescText);\r\n            return '<span class=\"postMeta\"><i class=\"iconfont icon-schedule\"></i>发表于 ' + info.date + '' +\r\n                '<i class=\"iconfont icon-browse\"></i>阅读：' + info.vnum + '' +\r\n                '<i class=\"iconfont icon-interactive\"></i>评论：' + info.cnum + '' +\r\n                '<i class=\"iconfont icon-hot\"></i>推荐：' + info.tnum + '' +\r\n                '</span>';\r\n        }\r\n    })();\r\n\r\n    /**\r\n     * 设置摘要文章\r\n     */\r\n    (() => {\r\n        let desc = $('.c_b_p_desc');\r\n        $.each(desc, (i) => {\r\n            let obj = $(desc[i]), img = obj.find('img.desc_img');\r\n            if (img.length > 0) {\r\n                let src = img.attr('src');\r\n                img.hide();\r\n                obj.css('width', '60%');\r\n                obj.parent('div').css('min-height', '150px');\r\n                let html = '<div class=\"c_b_p_desc_img\"><div style=\"background: url(\\''+ src +'\\') center center / contain no-repeat;\"></div></div>';\r\n                obj.after(html);\r\n            }\r\n        });\r\n    })();\r\n\r\n    /**\r\n     * 主页banner动效\r\n     */\r\n    (() => {\r\n        if (_.__config.animate.homeBanner.enable) {\r\n            __webpack_require__.e(/*! import() | circle-magic */ \"circle-magic\").then(__webpack_require__.t.bind(__webpack_require__, /*! ../vendor/circleMagic/circleMagic */ \"./src/vendor/circleMagic/circleMagic.js\", 23)).then(module => {\r\n                $('.main-header').circleMagic(_.__config.animate.homeBanner.options);\r\n            });\r\n        }\r\n    })();\r\n}\r\n\n\n//# sourceURL=webpack://cnblogs-theme/./src/page/home.js?")},"./src/utils/request.js":
/*!******************************!*\
  !*** ./src/utils/request.js ***!
  \******************************/function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"request\": function() { return /* binding */ request; }\n/* harmony export */ });\n/**\r\n * UPDATES AND DOCS AT: https://github.com/wangyang0210\r\n * https://www.cnblogs.com/wangyang0210/\r\n * @author: WangYang, wangyang.0210@foxmail.com\r\n * @Date 2022-08-25 15:28\r\n * ----------------------------------------------\r\n * @describe: fetch封装\r\n */\r\n\r\nasync function request(url = '', method = 'GET', data = {}) {\r\n    let options = {\r\n        method: method,\r\n        mode: 'cors',\r\n        redirect: 'follow',\r\n        referrerPolicy: 'no-referrer',\r\n    }\r\n    if(Object.keys(data).length) {\r\n        options.body=JSON.stringify(data)\r\n    }\r\n    const response = await fetch(url, options)\r\n    return response.json()\r\n}\r\n\n\n//# sourceURL=webpack://cnblogs-theme/./src/utils/request.js?")}}]);