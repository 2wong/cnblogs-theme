{"version":3,"file":"script/page-home.fd42db2b.js","mappings":";;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;;AAEA,uDAAuD,GAAG;AAC1D,uDAAuD,GAAG;AAC1D,uDAAuD,GAAG;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACuD;AACd;AACzC;AACe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,oBAAoB,MAAM,uBAAuB,IAAI,qBAAqB;AAC1H;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,uDAAO;AAClE,mEAAmE,uDAAO;AAC1E,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,qCAAqC;AAC3F,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB,yEAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qIAAqI;AACrI;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,kNAA+G;AAC3H;AACA,aAAa;AACb;AACA,KAAK;AACL","sources":["webpack://cnblogs-theme/./src/components/postMeta/postMeta.js","webpack://cnblogs-theme/./src/page/home.js"],"sourcesContent":["/**\n * UPDATES AND DOCS AT: https://github.com/wangyang0210\n * https://www.cnblogs.com/wangyang0210/\n * @author: WangYang, wangyang.0210@foxmail.com\n * @Date 2022-08-25 15:23\n * ----------------------------------------------\n * @describe: 文章信息\n */\n\nexport default function main(postDescText) {\n    let getPostMetaInfo = (postDescInfo) => {\n       let postDescRep = postDescInfo.replace(/[\\r\\n]/g, '');\n\n        let postMetaRex  = /.*posted\\s*@\\s*([0-9\\-:\\s]{16}).*阅读\\s*\\((\\d*)\\).*评论\\s*\\((\\d*)\\).*推荐\\s*\\((\\d*)\\).*/,\n            postMetaRex2 = /.*posted\\s*@\\s*([0-9\\-:\\s]{16}).*阅读\\s*\\((\\d*)\\).*评论\\s*\\((\\d*)\\).*/,\n            postMetaRex3 = /.*posted\\s*@\\s*([0-9\\-:\\s]{16}).*/,\n            diggCount = $('#digg_count'),\n            info = postDescRep.match(postMetaRex)\n                || postDescRep.match(postMetaRex2)\n                || postDescRep.match(postMetaRex3),\n            date = typeof info[1] === 'undefined' ? '1970-01-01 00:00' : info[1],\n            vnum = typeof info[2] === 'undefined' ? '0' : info[2],\n            cnum = typeof info[3] === 'undefined' ? '0' : info[3],\n            tnum = typeof info[4] === 'undefined' ? (diggCount.length ? diggCount.text() : '0') : info[4];\n\n        return {\n            date: date,\n            vnum: vnum,\n            cnum: cnum,\n            tnum: tnum,\n        };\n    };\n\n    return getPostMetaInfo(postDescText);\n}\n","/**\r\n * UPDATES AND DOCS AT: https://github.com/wangyang0210\r\n * https://www.cnblogs.com/wangyang0210/\r\n * @author: WangYang, wangyang.0210@foxmail.com\r\n * @Date 2022-08-25 15:27\r\n * ----------------------------------------------\r\n * @describe: 主页处理\r\n */\r\nimport postMeta from \"../components/postMeta/postMeta\";\r\nimport {request} from \"../utils/request\";\r\n\r\nexport default function main() {\r\n\r\n    /**\r\n     * 设置主页标语\r\n     */\r\n    (() => {\r\n\r\n        $('#homeTopTitle span').text( $.__config.info.name);\r\n\r\n        /**\r\n         * 博客名字动效\r\n         */\r\n        if ( $.__config.animate.infoName.enable) {\r\n            $('#homeTopTitle span').hover(function () {\r\n                    $('#homeTopTitle span').css(\"animation\", \"pageTitleText 2s infinite\")\r\n                    $('#homeTopTitle span').css(\"-webkit-animation\", \"pageTitleText 1s infinite\")\r\n                }, function () {\r\n                    $('#homeTopTitle span').css(\"animation\", \"none\")\r\n                    $('#homeTopTitle span').css(\"-webkit-animation\", \"none\")\r\n                }\r\n            );\r\n        }\r\n\r\n            // 判断用户是否自定义了设置\r\n        let configTitle = $.__config.banner.home.title,\r\n            hitokoto = $('#hitokoto');\r\n\r\n        if ($.isArray(configTitle) && configTitle.length > 0) {\r\n            let listIndex = $.__tools.randomNum(0, configTitle.length - 1);\r\n            hitokoto.html(configTitle[listIndex]).css('display', '-webkit-box');\r\n            $.__tools.setDomHomePosition();\r\n            return true;\r\n        }\r\n\r\n        if (typeof configTitle === \"string\" && configTitle !== \"\") {\r\n            hitokoto.html(configTitle).css('display', '-webkit-box');\r\n            $.__tools.setDomHomePosition();\r\n            return true;\r\n        }\r\n\r\n        let topTitleList = [ '当你凝视深渊时，深渊也在凝视着你。', '有的人25岁就死了，只是到75岁才埋葬'];\r\n\r\n        function topTitleContent(r) {\r\n            if (r?.status === \"success\") {\r\n                let note = r?.note || r.data.content;\r\n                let content = r?.content || `《${r.data.origin.title}》 - ${r.data.origin.dynasty} - ${r.data.origin.author}`;\r\n                hitokoto.html(note).css('display', '-webkit-box');\r\n                $('#hitokotoAuthor').text(content).show();\r\n            } else {\r\n                let listIndex = $.__tools.randomNum(0, topTitleList.length - 1);\r\n                hitokoto.html(topTitleList[listIndex]).css('display', '-webkit-box');\r\n            }\r\n            $.__tools.setDomHomePosition();\r\n        }\r\n\r\n        if ( $.__config.banner.home.titleSource === 'one') request('https://api.wangyangyang.vip/').then(r =>  topTitleContent(r))\r\n        if ( $.__config.banner.home.titleSource === 'jinrishici')  request('https://v2.jinrishici.com/one.json').then(r =>  topTitleContent(r))\r\n    })();\r\n\r\n    /**\r\n     * 头图点击滚动到内容位置\r\n     */\r\n    (() => {\r\n        $('.scroll-down').click(function () {\r\n            let endScroll;\r\n            endScroll = $('#home').offset().top + 10; $.__tools.actScroll(endScroll, 500);})\r\n    })();\r\n\r\n    /**\r\n     * 设置主页文章信息样式\r\n     */\r\n    (() => {\r\n        let read = $('#main .c_b_p_desc_readmore'), titleList = $('#main .postTitle');\r\n        read.text('阅读全文 »');\r\n        $.each(titleList, (i) => {\r\n            let title = $(titleList[i]),\r\n                titleText = title.text(),\r\n                postDescText = title.nextAll('.postDesc:eq(0)').text();\r\n            title.after(postMetaHtml(postDescText));\r\n            if (/\\[置顶\\]/.test(titleText)) title.append('<span class=\"postSticky\">置顶</span>');\r\n            title.find('a').text(titleText.replace('[置顶]', ''));\r\n        });\r\n\r\n        titleList = $('#main .entrylistPosttitle');\r\n        $.each(titleList, (i) => {\r\n            let title = $(titleList[i]),\r\n                postDescText = title.nextAll('.entrylistItemPostDesc:eq(0)').text();\r\n            title.after(postMetaHtml(postDescText));\r\n        });\r\n\r\n        function postMetaHtml(postDescText) {\r\n            let info = postMeta(postDescText);\r\n            return '<span class=\"postMeta\"><i class=\"iconfont icon-schedule\"></i>发表于 ' + info.date + '' +\r\n                '<i class=\"iconfont icon-browse\"></i>阅读：' + info.vnum + '' +\r\n                '<i class=\"iconfont icon-interactive\"></i>评论：' + info.cnum + '' +\r\n                '<i class=\"iconfont icon-hot\"></i>推荐：' + info.tnum + '' +\r\n                '</span>';\r\n        }\r\n    })();\r\n\r\n    /**\r\n     * 设置摘要文章\r\n     */\r\n    (() => {\r\n        let desc = $('.c_b_p_desc');\r\n        $.each(desc, (i) => {\r\n            let obj = $(desc[i]), img = obj.find('img.desc_img');\r\n            if (img.length > 0) {\r\n                let src = img.attr('src');\r\n                img.hide();\r\n                obj.css('width', '60%');\r\n                obj.parent('div').css('min-height', '150px');\r\n                let html = '<div class=\"c_b_p_desc_img\"><div style=\"background: url(\\''+ src +'\\') center center / contain no-repeat;\"></div></div>';\r\n                obj.after(html);\r\n            }\r\n        });\r\n    })();\r\n\r\n    /**\r\n     * 主页banner动效\r\n     */\r\n    (() => {\r\n        if ( $.__config.animate.homeBanner.enable) {\r\n            import(/* webpackChunkName: \"circle-magic\" */ /* webpackPrefetch: true */  '../vendor/circleMagic/circleMagic').then(module => {\r\n                $('.main-header').circleMagic( $.__config.animate.homeBanner.options);\r\n            });\r\n        }\r\n    })();\r\n}\r\n"],"names":[],"sourceRoot":""}