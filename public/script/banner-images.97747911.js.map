{"version":3,"file":"script/banner-images.97747911.js","mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEgD;;AAEjC;AACf;;AAEA,oBAAoB;AACpB,yBAAyB;;AAEzB;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,YAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,gEAAgB;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,uDAAO,QAAQ,mEAAmE;AAClG;AACA,oBAAoB,uDAAO,QAAQ,kBAAkB;AACrD,iBAAiB;AACjB;;AAEA;AACA;AACA,gBAAgB,uDAAO,QAAQ,gEAAgE;AAC/F,gBAAgB,uDAAO,QAAQ,qBAAqB;AACpD;AACA;AACA,iBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL","sources":["webpack://cnblogs-theme/./src/components/bannerImages/bannerImages.js"],"sourcesContent":["/**\n * UPDATES AND DOCS AT: https://github.com/wangyang0210\n * https://www.cnblogs.com/wangyang0210/\n * @author: WangYang, wangyang.0210@foxmail.com\n * @Date 2022-08-25 15:19\n * ----------------------------------------------\n * @describe: banner背景切换处理\n */\n\nimport {gsap, Power4} from \"gsap/dist/gsap.min\";\n\nexport default function main(id, images, cols, time, sort, current) {\n    const bgMain = document.getElementById(id);\n\n    let parts = []; // 列容器对象\n    let playing = false; // 是否执行动画\n\n    // 生成图片对象\n    for (let i in images) {\n        new Image().src = images[i];\n    }\n\n    // 生成列dom\n    for (let col = 0; col < cols; col++) {\n        let part = document.createElement('div');\n        part.className = 'part';\n        let el = document.createElement('div');\n        el.className = \"section\";\n        let img = document.createElement('img');\n        img.src = images[current];\n        el.appendChild(img);\n        part.style.setProperty('--x', -100 / cols * col + 'vw');\n        part.appendChild(el);\n        bgMain.appendChild(part);\n        parts.push(part);\n    }\n\n    // 动画配置\n    let animOptions = {\n        duration: 2.3,\n        ease: Power4.easeInOut\n    };\n\n    function go(dir) {\n        if (!playing) {\n            playing = true;\n            if (current + dir < 0) current = images.length - 1;\n            else if (current + dir >= images.length) current = 0;\n            else current += dir;\n\n            function up(part, next) {\n                part.appendChild(next);\n                gsap.to(part, {...animOptions, y: (document.getElementById(id).offsetHeight * -1)}).then(function () {\n                    part.children[0].remove();\n                    gsap.to(part, {duration: 0, y: 0});\n                });\n            }\n\n            function down(part, next) {\n                part.prepend(next);\n                gsap.to(part, {duration: 0, y: (document.getElementById(id).offsetHeight * -1)});\n                gsap.to(part, {...animOptions, y: 0}).then(function () {\n                    part.children[1].remove();\n                    playing = false;\n                });\n            }\n\n            for (let p in parts) {\n                let part = parts[p];\n                let next = document.createElement('div');\n                next.className = 'section';\n                let img = document.createElement('img');\n                img.src = images[current];\n                next.appendChild(img);\n\n                if ((p - Math.max(0, dir)) % 2) {\n                    down(part, next);\n                } else {\n                    up(part, next);\n                }\n            }\n        }\n    }\n\n    // 定时执行\n    window.setInterval(() => {\n        go(sort);\n    }, time);\n}\n"],"names":[],"sourceRoot":""}